<!-- omit in toc -->
# è‡ªåˆ†ãŒæŠ•ç¨¿ã—ãŸã‚³ãƒ¡ãƒ³ãƒˆã ã‘ã®ãƒšãƒ¼ã‚¸.

- [views](#views)
  - [base/views/item_views.py](#baseviewsitem_viewspy)
- [config/urls.py](#configurlspy)
- [templates](#templates)
  - [templates/snippets/header.html](#templatessnippetsheaderhtml)
  - [templates/pages/comment.html](#templatespagescommenthtml)
- [ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ã—ã¦ç¢ºèª](#ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ã—ã¦ç¢ºèª)
- [git](#git)

<br><br>

## views
### base/views/item_views.py
```python
    from django.views.generic import ListView, DetailView
-   from base.models import Item
+   from base.models import Item, Comment
    from django.views.generic.edit import ModelFormMixin
    from base.forms import CommentCreateForm
    from django.urls import reverse
    from django.shortcuts import get_object_or_404
    from django.http import HttpResponseRedirect


# ä¸€ç•ªä¸‹ã«è¿½åŠ 
+   class CommentListView(ListView):
+       model = Comment     # Itemãƒ¢ãƒ‡ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ã‚’æŒã£ã¦ãã‚‹
+       template_name = 'pages/comment.html'
```

## config/urls.py
```python
    from django.contrib import admin
    from django.urls import path
    from base import views
    from django.contrib.auth.views import LogoutView # è¿½åŠ  viewã¯è‡ªä½œã›ãšdjangoã®æ©Ÿèƒ½ã‚’ä½¿ã†

    urlpatterns = [
        path('admin/', admin.site.urls),

        path('', views.IndexListView.as_view()),  # ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸
+       path('comment/', views.CommentListView.as_view()),  # è‡ªåˆ†ã®ã‚³ãƒ¡ãƒ³ãƒˆãƒšãƒ¼ã‚¸
        path('items/<str:pk>/', views.ItemDetailView.as_view(), name="item_detail"),

        # Account è¿½åŠ 
        path('login/', views.Login.as_view()),
        path('logout/', LogoutView.as_view()),
        path('signup/', views.SignUpView.as_view()),
        path('account/', views.AccountUpdateView.as_view()),
        path('profile/', views.ProfileUpdateView.as_view()),
    ]
```

## templates
### templates/snippets/header.html
```html
    <nav class="container d-flex flex-column flex-md-row justify-content-between">
      <a class="py-2 text-white" href="/">ğŸ€Ryukoku</a>
+     <a class="py-2 d-none d-md-inline-block text-white" href="/comment/">Comment</a>
    </nav>
```

### templates/pages/comment.html
```html
{% extends 'base.html' %}

{% block main %}


<ol class="list-group list-group-numbered">
  {% for object in object_list %}
  {% if user == object.author %}
  <li class="list-group-item d-flex justify-content-between align-items-start">
    <div class="ms-2 me-auto">
      <div class="fw-bold">{{object.author.profile.name}}</div>
      <div class="fw-bold">{{object.updated_at}}</div>
      {{object.comment_text}}
    </div>
  </li>
  {% endif %}
  {% endfor %}
</ol>

{% endblock main %}
```

## ã‚µãƒ¼ãƒãƒ¼èµ·å‹•ã—ã¦ç¢ºèª
2äººã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ç¢ºèª. ãã‚Œãã‚Œã®ã‚³ãƒ¡ãƒ³ãƒˆã ã‘ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã€€OK!
<img src='img/2022-10-04-21-34-16.png' width='100%'>
<img src='img/2022-10-04-21-33-40.png' width='100%'>

<br>

## git
comment.html add Show only comments of logged-in users<br>

ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ç·¨é›†ã—ãŸã‚Šã€youtubeã®å‹•ãã‚’å¤‰æ›´ã—ãŸã‚Šã—ãŸã®ã§ã€cssã®git push ã‚’ã—ãŸ<br>

css fix /item_box.html,item_detail.html,header.html,base.html<br>

